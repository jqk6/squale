var Behaviour={list:new Array,register:function(sheet){Behaviour.list.push(sheet);},start:function(){Behaviour.addLoadEvent(function(){Behaviour.apply();});},apply:function(){for(h=0;sheet=Behaviour.list[h];h++){for(selector in sheet){list=document.getElementsBySelector(selector);if(!list){continue;};for(i=0;element=list[i];i++){sheet[selector](element);};};};},addLoadEvent:function(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){oldonload();func();};};}};function getAllChildren(e){return e.all?e.all:e.getElementsByTagName('*');};document.getElementsBySelector=function(selector){if(!document.getElementsByTagName){return new Array();};var tokens=selector.split(' '),a=new Array(document);for(var i=0;i<tokens.length;i++){token=tokens[i].replace(/^\s+/,'').replace(/\s+$/,'');if(token.indexOf('#')>-1){var bits=token.split('#'),tagName=bits[0],id=bits[1],element=document.getElementById(id);if(tagName&&element.nodeName.toLowerCase()!=tagName){return new Array();};a=new Array(element);continue;};if(token.indexOf('.')>-1){var bits=token.split('.'),tagName=bits[0],className=bits[1];if(!tagName){tagName='*';};var found=new Array,foundCount=0;for(var h=0;h<a.length;h++){var elements;if(tagName=='*'){elements=getAllChildren(a[h]);}else{elements=a[h].getElementsByTagName(tagName);};for(var j=0;j<elements.length;j++){found[foundCount++]=elements[j];};};a=new Array;var b=0;for(var k=0;k<found.length;k++){if(found[k].className&&found[k].className.match(new RegExp('\\b'+className+'\\b'))){a[b++]=found[k];};};continue;};if(token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){var tagName=RegExp.$1,attrName=RegExp.$2,attrOperator=RegExp.$3,attrValue=RegExp.$4;if(!tagName){tagName='*';};var found=new Array,foundCount=0;for(var h=0;h<a.length;h++){var elements;if(tagName=='*'){elements=getAllChildren(a[h]);}else{elements=a[h].getElementsByTagName(tagName);};for(var j=0;j<elements.length;j++){found[foundCount++]=elements[j];};};a=new Array;var b=0,checkFunction;switch(attrOperator){case'=':checkFunction=function(e){return(e==attrValue);};break;case'~':checkFunction=function(e){return(e.match(new RegExp('\\b'+attrValue+'\\b')));};break;case'|':checkFunction=function(e){return(e.match(new RegExp('^'+attrValue+'-?')));};break;case'^':checkFunction=function(e){return(e.indexOf(attrValue)==0);};break;case'$':checkFunction=function(e){return(e.lastIndexOf(attrValue)==e.getAttribute(attrName).length-attrValue.length);};break;case'*':checkFunction=function(e){return(e.indexOf(attrValue)>-1);};break;default:checkFunction=function(e){return e;};};a=new Array;var b=0;for(var k=0;k<found.length;k++){if((attrName=="className"&&(found[k].getAttribute(attrName)==null||found[k].getAttribute(attrName)=="")&&found[k].className!=null&&found[k].className!=""&&checkFunction(found[k].className))||(found[k].getAttribute(attrName)!=null&&checkFunction(found[k].getAttribute(attrName)))){a[b++]=found[k];};};continue;};if(!a[0]){return;};tagName=token;var found=new Array,foundCount=0;for(var h=0;h<a.length;h++){var elements=a[h].getElementsByTagName(tagName);for(var j=0;j<elements.length;j++){found[foundCount++]=elements[j];};};a=found;};return a;};
