<?xml version="1.0" encoding="ISO-8859-1"?>

<!-- ======================================================== -->
<!-- 		Ant Script used to initialize the database		  -->
<!-- ======================================================== -->

<project name="Database initialization" basedir="." default="executeSQLscripts">

	<property name="database.url" value="jdbc:derby:squale-db;create=true" />
	<property name="database.driver" value="org.apache.derby.jdbc.EmbeddedDriver" />
	<path id="cp.driver">
		<fileset dir="${basedir}/lib">
			<include name="derby-*.jar" />
		</fileset>
	</path>

	<!-- =================================================  -->
	<!-- Executes the 3 SQL scripts to init the database 	-->
	<!-- =================================================	-->
	<target name="executeSQLscripts">
		<echo>Initializing Derby database...</echo>
		<sql driver="${database.driver}" url="${database.url}" userid="" password="" 
			src="${basedir}/creation-scripts/01-createDatabase.sql" classpathref="cp.driver" />
		<echo>1rst script OK...</echo>
		<sql driver="${database.driver}" url="${database.url}" userid="" password="" 
			src="${basedir}/creation-scripts/02-setDefaultValues.sql" classpathref="cp.driver" />
		<echo>2nd script OK...</echo>
		<sql driver="${database.driver}" url="${database.url}" userid="" password="" 
			src="${basedir}/creation-scripts/03-initSquale.sql" classpathref="cp.driver" />
		<echo>3rd script OK...</echo>
		<echo>Database ready!</echo>
	</target>
</project>